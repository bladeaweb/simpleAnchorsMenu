!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(c){c.fn.simpleAnchorMenu=function(e){e=c.extend({menu:"#subMenu",menuOutOfContainer:!1,createMenu:!1,newMenuSetting:{parent:"",menuAttributes:"",menuClasses:"",menuId:""},startHeader:2,lastHeader:5,linkTextData:"text",listItemAttributes:"",listItemUlAttributes:"",itemAttributes:""},e);var t=this,a=e.menu,n=e.menuOutOfContainer,i=e.createMenu,r=e.newMenuSetting,l=parseInt(e.startHeader),d=parseInt(e.lastHeader),m=e.linkTextData,f=e.listItemAttributes,h=e.listItemAttributes,o=e.itemAttributes;!function(){f=f.replace(/data-header=".+"/i,""),h=h.replace(/data-header-container=".+"/i,""),o=o.replace(/href=".+"/i,""),i&&0<c(r.parent).length&&(r.menuId=void 0===r.menuId?"":r.menuId,r.menuClasses=void 0===r.menuClasses?"":r.menuClasses,r.menuAttributes=void 0===r.menuAttributes?"":r.menuAttributes,c(r.parent).append('<ul id="'+r.menuId+'" class="'+r.menuClasses+'" '+r.menuAttributes+"></ul>"));for(var e=0;e<t.length;e++)u(t[e])}();function u(e){for(var u=n?c("body").find(a):c(e).find(a),s=l;s<=d;s++)headerItem=c(e).find("h"+s),headerItem.each(function(){if(c(this).attr("id")){if(l<s)for(var e=!1,t=s-1;l<=t&&!1===e;t--)d=c(this).prevAll("h"+t),e=void 0!==c(d[0]).attr("id")&&d;var a=s===l?u:!1===e?u:c(u).find('[data-header="'+c(e[0]).attr("id")+'"]'),n="text"===m?c(this).text():c(this).attr(m),i=c(this).attr("id"),r="#"+i;void 0!==c(a).attr("data-header")&&(0===c(a).find('[data-header-container="'+c(e[0]).attr("id")+'"]').length&&c(a).append('<ul data-header-container="'+c(e[0]).attr("id")+'" '+h+"></ul>"),a=c(a).find('[data-header-container="'+c(e[0]).attr("id")+'"]')),c(a).append("<li "+f+' data-header="'+i+'"><a href="'+r+'" '+o+">"+n+"</a></li>")}var d})}}});